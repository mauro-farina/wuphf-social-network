<!DOCTYPE html>
<html>
    <head>
        <title>WUPHF.com</title>
    </head>
    <body>
        <h1>
            Utility page
        </h1>
        <ul>
            <li><a href="/api/utils/collection/users" target="_blank">List users</a></li>
            <li><a href="/api/utils/collection/follows" target="_blank">List follows</a></li>
            <li><a href="/api/utils/collection/messages" target="_blank">List messages</a></li>
            <li>Clear the database <button id="clearCollectionsButton">Clear DB</button></li>
            <li>Load Mongo with data <button id="loadMongoButton">Load data</button></li>
        </ul>
        <script>
            const buttonClearCollections = document.getElementById("clearCollectionsButton");
            buttonClearCollections.addEventListener('click', e => {
                const requestOptions = {
                    method: 'GET',
                }
                fetch("/api/utils/clear/users", requestOptions);
                fetch("/api/utils/clear/follows", requestOptions);
                fetch("/api/utils/clear/messages", requestOptions);
            });
        </script>

        <script>
            const buttonCLoadMongo = document.getElementById("loadMongoButton");
            buttonCLoadMongo.addEventListener('click', e => {
                const requestOptions = {
                    method: 'GET',
                }
                fetch("/api/utils/mongo-loader", requestOptions);
            });
        </script>
    </body>
</html>